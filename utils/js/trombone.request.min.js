var Trombone=Trombone||{};Trombone.request=function(e){function t(e){return"string"===typeof e?e:JSON.stringify(e)}function n(n){var r=n.resource.replace(/^\/|\/$/g,""),i=n.host.replace(/\/$/,""),s=n.client||"generic";var o=n.data?t(n.data):"";var u=s+":"+(n.type||"GET")+":"+"/"+r+":"+n.nonce+":"+o;var a=CryptoJS.HmacSHA1(u,n.key),f=n.complete;delete n.data;delete n.complete;e.support.cors=true;e.ajax(e.extend({type:"GET",url:i+"/"+r,cache:false,data:o,crossDomain:true,dataType:"json",complete:function(){if(f&&"function"===typeof f){f()}},headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8","API-Access":s+":"+n.nonce+":"+a.toString()}},n));if(n.debug)console.log("@"+i+"/"+r)}return n}(jQuery)
